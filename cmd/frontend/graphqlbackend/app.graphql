extend type Query {
    """
    Runs a host system native file picker and returns the directories picked.
    If null the user canceled the operation.
    This is intended to be used by Sourcegraph App.
    """
    localDirectoriesPicker: LocalDirectories

    """
    Returns the local directory at the given directory or comma-separated list of directories.
    This is intended to be used by Sourcegraph App.
    """
    localDirectories(paths: [String!]!): LocalDirectories!

    """
    Lists external services that are configured for Sourcegraph App local code repositories. This is intended to be used
    by Sourcegraph App.
    """
    localExternalServices: [LocalExternalService!]!
}

"""
LocalDirectories represents a list of directories on the host machine. This is an API
specific to Sourcegraph App.
"""
type LocalDirectories {
    """
    A list of absolute paths to local directories that exist.
    If LocalDirectories was created via picker these are the paths picked.
    """
    paths: [String!]!

    """
    Repositories is the recursive list of repositories found under path.


    Note: This field is blocking to compute. It uses heuristics to return a
    best-effort list in 5s.
    """
    repositories: [LocalRepository!]!
    # Question: Would it be better to be a connection with pagination? There
    # are serious limitations to this due to it not being a DB query, which is
    # why I chose a list.
}

"""
LocalRepository represents a repository found recursively from a directory on
the host machine. This is an API specific to Sourcegraph App.
"""
type LocalRepository {
    """
    The name of the local repository. This is usually the relative path from the
    root this repository was found.
    """
    name: String!

    """
    The absolute path to a local repository.
    """
    path: String!
}

"""
An external service that is configured for Sourcegraph App local code repositories.
"""
type LocalExternalService {
    """
    The external service's unique ID.
    """
    id: ID!

    """
    The external service's path to local directory.
    """
    path: String!

    """
    If this is true then the external service is intended to be managed by Sourcegraph App services and not by the user.
    """
    autogenerated: Boolean!
}

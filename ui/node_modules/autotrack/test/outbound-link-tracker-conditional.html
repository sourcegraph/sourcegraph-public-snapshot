<!doctype html>
<html>
<body>
  <script>

  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;

  ga('create', 'UA-XXXXX-Y', 'auto');

  // Note(philipwalton):
  // Selenium on Windows 10 Edge doesn't handle arrays well, so we fake it.
  var hitData = {count: 0};
  ga('set', 'sendHitTask', function(model) {
    hitData[hitData.count] = {
      eventCategory: model.get('eventCategory'),
      eventAction: model.get('eventAction'),
      eventLabel: model.get('eventLabel'),
      devId: model.get('&did')
    };
    hitData.count++;
  });

  ga('require', 'outboundLinkTracker', {
    shouldTrackOutboundLink: function(link) {
      return link.hostname != 'google-analytics.com';
    }
  });

  </script>

  <a id="outbound-link" href="http://google-analytics.com/collect">Outbound</a>
  <a id="local-link" href="/test/blank.html">Local</a>

  <script>
  document.addEventListener('click', function(event) {
    if (window.__stopClickEvents__) {
      event.preventDefault();
    }
  });
  </script>

  <script async src='//www.google-analytics.com/analytics.js'></script>
  <script aysnc src="/autotrack.js"></script>

</body>
</html>

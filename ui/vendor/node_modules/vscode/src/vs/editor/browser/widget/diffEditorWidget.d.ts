import './media/diffEditor.css';
import { EventEmitter } from 'vs/base/common/eventEmitter';
import { IDisposable } from 'vs/base/common/lifecycle';
import { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';
import { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';
import { Range } from 'vs/editor/common/core/range';
import * as editorCommon from 'vs/editor/common/editorCommon';
import { IEditorWorkerService } from 'vs/editor/common/services/editorWorkerService';
import * as editorBrowser from 'vs/editor/browser/editorBrowser';
import { Position } from 'vs/editor/common/core/position';
import { Selection } from 'vs/editor/common/core/selection';
export declare class DiffEditorWidget extends EventEmitter implements editorBrowser.IDiffEditor {
    onDidChangeModelRawContent(listener: (e: editorCommon.IModelContentChangedEvent) => void): IDisposable;
    onDidChangeModelContent(listener: (e: editorCommon.IModelContentChangedEvent2) => void): IDisposable;
    onDidChangeModelMode(listener: (e: editorCommon.IModelModeChangedEvent) => void): IDisposable;
    onDidChangeModelOptions(listener: (e: editorCommon.IModelOptionsChangedEvent) => void): IDisposable;
    onDidChangeConfiguration(listener: (e: editorCommon.IConfigurationChangedEvent) => void): IDisposable;
    onDidChangeCursorPosition(listener: (e: editorCommon.ICursorPositionChangedEvent) => void): IDisposable;
    onDidChangeCursorSelection(listener: (e: editorCommon.ICursorSelectionChangedEvent) => void): IDisposable;
    onDidDispose(listener: () => void): IDisposable;
    onDidUpdateDiff(listener: () => void): IDisposable;
    private static ONE_OVERVIEW_WIDTH;
    static ENTIRE_DIFF_OVERVIEW_WIDTH: number;
    private static UPDATE_DIFF_DECORATIONS_DELAY;
    private id;
    private _toDispose;
    private _theme;
    private _domElement;
    _containerDomElement: HTMLElement;
    private _overviewDomElement;
    private _overviewViewportDomElement;
    private _width;
    private _height;
    private _measureDomElementToken;
    private originalEditor;
    private _originalDomNode;
    private _originalEditorState;
    private _originalOverviewRuler;
    private modifiedEditor;
    private _modifiedDomNode;
    private _modifiedEditorState;
    private _modifiedOverviewRuler;
    private _currentlyChangingViewZones;
    private _beginUpdateDecorationsTimeout;
    private _diffComputationToken;
    private _lineChanges;
    private _isVisible;
    private _isHandlingScrollEvent;
    private _ignoreTrimWhitespace;
    private _originalIsEditable;
    private _renderSideBySide;
    private _renderIndicators;
    private _enableSplitViewResizing;
    private _strategy;
    private _updateDecorationsRunner;
    private _editorWorkerService;
    protected _contextKeyService: IContextKeyService;
    constructor(domElement: HTMLElement, options: editorCommon.IDiffEditorOptions, editorWorkerService: IEditorWorkerService, contextKeyService: IContextKeyService, instantiationService: IInstantiationService);
    readonly ignoreTrimWhitespace: boolean;
    readonly renderSideBySide: boolean;
    readonly renderIndicators: boolean;
    private static _getClassName(theme, renderSideBySide);
    private _recreateOverviewRulers();
    private _createLeftHandSide();
    private _createRightHandSide();
    private _createLeftHandSideEditor(options, instantiationService);
    private _createRightHandSideEditor(options, instantiationService);
    destroy(): void;
    dispose(): void;
    getId(): string;
    getEditorType(): string;
    getLineChanges(): editorCommon.ILineChange[];
    getOriginalEditor(): editorBrowser.ICodeEditor;
    getModifiedEditor(): editorBrowser.ICodeEditor;
    updateOptions(newOptions: editorCommon.IDiffEditorOptions): void;
    getValue(options?: {
        preserveBOM: boolean;
        lineEnding: string;
    }): string;
    getModel(): editorCommon.IDiffEditorModel;
    setModel(model: editorCommon.IDiffEditorModel): void;
    getDomNode(): HTMLElement;
    getVisibleColumnFromPosition(position: editorCommon.IPosition): number;
    getPosition(): Position;
    setPosition(position: editorCommon.IPosition, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    revealLine(lineNumber: number): void;
    revealLineInCenter(lineNumber: number): void;
    revealLineInCenterIfOutsideViewport(lineNumber: number): void;
    revealPosition(position: editorCommon.IPosition, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    revealPositionInCenter(position: editorCommon.IPosition): void;
    revealPositionInCenterIfOutsideViewport(position: editorCommon.IPosition): void;
    getSelection(): Selection;
    getSelections(): Selection[];
    setSelection(range: editorCommon.IRange, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(editorRange: Range, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(selection: editorCommon.ISelection, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelection(editorSelection: Selection, reveal?: boolean, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    setSelections(ranges: editorCommon.ISelection[]): void;
    revealLines(startLineNumber: number, endLineNumber: number): void;
    revealLinesInCenter(startLineNumber: number, endLineNumber: number): void;
    revealLinesInCenterIfOutsideViewport(startLineNumber: number, endLineNumber: number): void;
    revealRange(range: editorCommon.IRange, revealVerticalInCenter?: boolean, revealHorizontal?: boolean): void;
    revealRangeInCenter(range: editorCommon.IRange): void;
    revealRangeInCenterIfOutsideViewport(range: editorCommon.IRange): void;
    addAction(descriptor: editorCommon.IActionDescriptor): void;
    getActions(): editorCommon.IEditorAction[];
    getSupportedActions(): editorCommon.IEditorAction[];
    getAction(id: string): editorCommon.IEditorAction;
    saveViewState(): editorCommon.IDiffEditorViewState;
    restoreViewState(s: editorCommon.IDiffEditorViewState): void;
    layout(dimension?: editorCommon.IDimension): void;
    focus(): void;
    isFocused(): boolean;
    onVisible(): void;
    onHide(): void;
    trigger(source: string, handlerId: string, payload: any): void;
    changeDecorations(callback: (changeAccessor: editorCommon.IModelDecorationsChangeAccessor) => any): any;
    private _measureDomElement(forceDoLayoutCall, dimensions?);
    private _layoutOverviewRulers();
    private _recomputeIfNecessary(events);
    private _onOriginalEditorEvents(events);
    private _onModifiedEditorEvents(events);
    private _onViewZonesChanged();
    private _beginUpdateDecorations();
    private _cleanViewZonesAndDecorations();
    private _updateDecorations();
    private _adjustOptionsForSubEditor(options);
    private _adjustOptionsForLeftHandSide(options, isEditable);
    private _adjustOptionsForRightHandSide(options);
    private _onOriginalEditorScroll(e);
    private _onModifiedEditorScroll(e);
    private _doLayout();
    private _layoutOverviewViewport();
    private _computeOverviewViewport();
    private _createDataSource();
    private _setStrategy(newStrategy);
    private _getLineChangeAtOrBeforeLineNumber(lineNumber, startLineNumberExtractor);
    private _getEquivalentLineForOriginalLineNumber(lineNumber);
    private _getEquivalentLineForModifiedLineNumber(lineNumber);
    getDiffLineInformationForOriginal(lineNumber: number): editorCommon.IDiffLineInformation;
    getDiffLineInformationForModified(lineNumber: number): editorCommon.IDiffLineInformation;
}

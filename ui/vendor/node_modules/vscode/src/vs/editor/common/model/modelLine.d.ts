import { IState } from 'vs/editor/common/modes';
import { TokensInflatorMap } from 'vs/editor/common/model/tokensBinaryEncoding';
import { ModeTransition } from 'vs/editor/common/core/modeTransition';
import { Token } from 'vs/editor/common/core/token';
import { LineTokens } from 'vs/editor/common/core/lineTokens';
import { Position } from 'vs/editor/common/core/position';
export interface ILineEdit {
    startColumn: number;
    endColumn: number;
    text: string;
    forceMoveMarkers: boolean;
}
export declare class LineMarker {
    _lineMarkerBrand: void;
    readonly id: string;
    readonly internalDecorationId: number;
    stickToPreviousCharacter: boolean;
    position: Position;
    constructor(id: string, internalDecorationId: number, position: Position, stickToPreviousCharacter: boolean);
    toString(): string;
    updateLineNumber(markersTracker: MarkersTracker, lineNumber: number): void;
    updateColumn(markersTracker: MarkersTracker, column: number): void;
    updatePosition(markersTracker: MarkersTracker, position: Position): void;
    setPosition(position: Position): void;
    static compareMarkers(a: LineMarker, b: LineMarker): number;
}
export declare class MarkersTracker {
    _changedDecorationsBrand: void;
    private _changedDecorations;
    private _changedDecorationsLen;
    constructor();
    addChangedMarker(marker: LineMarker): void;
    getDecorationIds(): number[];
}
export interface ITextWithMarkers {
    text: string;
    markers: LineMarker[];
}
export declare class ModelLine {
    private _lineNumber;
    readonly lineNumber: number;
    private _text;
    readonly text: string;
    /**
     * bits 31 - 1 => indentLevel
     * bit 0 => isInvalid
     */
    private _metadata;
    isInvalid: boolean;
    /**
     * Returns:
     *  - -1 => the line consists of whitespace
     *  - otherwise => the indent level is returned value
     */
    getIndentLevel(): number;
    private _setPlusOneIndentLevel(value);
    updateTabSize(tabSize: number): void;
    private _state;
    private _modeTransitions;
    private _lineTokens;
    private _markers;
    constructor(lineNumber: number, text: string, tabSize: number);
    resetTokenizationState(): void;
    setState(state: IState): void;
    getState(): IState;
    getModeTransitions(topLevelModeId: string): ModeTransition[];
    setTokens(map: TokensInflatorMap, tokens: Token[], modeTransitions: ModeTransition[]): void;
    private _setLineTokensFromDeflated(tokens);
    getTokens(map: TokensInflatorMap): LineTokens;
    private _createTokensAdjuster();
    private _setText(text, tabSize);
    private _createMarkersAdjuster(markersTracker);
    applyEdits(markersTracker: MarkersTracker, edits: ILineEdit[], tabSize: number): number;
    split(markersTracker: MarkersTracker, splitColumn: number, forceMoveMarkers: boolean, tabSize: number): ModelLine;
    append(markersTracker: MarkersTracker, other: ModelLine, tabSize: number): void;
    addMarker(marker: LineMarker): void;
    addMarkers(markers: LineMarker[]): void;
    removeMarker(marker: LineMarker): void;
    removeMarkers(deleteMarkers: {
        [markerId: string]: boolean;
    }): void;
    getMarkers(): LineMarker[];
    updateLineNumber(markersTracker: MarkersTracker, newLineNumber: number): void;
    deleteLine(): LineMarker[];
    private _indexOfMarkerId(markerId);
}

---
source: crates/scip-syntax/src/locals.rs
expression: dumped
---
  a = 1;
//^ definition local 1
  
  function myFunc()
//         ^^^^^^ definition local 9
      e = 5;
//    ^ definition local 10
      f = 6;
//    ^ definition local 11
  end
  
  function myNestedFunc()
//         ^^^^^^^^^^^^ definition local 12
      g = 7;
//    ^ definition local 13
      
      function nestedChildFunc()
//             ^^^^^^^^^^^^^^^ definition local 14
          h = 8;
//        ^ definition local 15
      end
  end
  
  global i j
//       ^ definition local 2
//         ^ definition local 3
  i = 9;
//^ reference local 2
  j = 10;
//^ reference local 3
  
  function myPersistFunc()
//         ^^^^^^^^^^^^^ definition local 16
      persistent k 
//               ^ definition local 17
      if isempty(k)
//               ^ reference local 17
          k = 11;
//        ^ reference local 17
      end
  end
  
  function myScopeFunc()
//         ^^^^^^^^^^^ definition local 19
      m = 12;
//    ^ definition local 20
      
      n = 13;
//    ^ definition local 21
      global n
//           ^ reference local 21
      
      o = 14;
//    ^ definition local 22
      persistent o
//               ^ reference local 22
  end
  
  function [a, b] = myFunction()
//          ^ definition local 23
//             ^ definition local 24
//                  ^^^^^^^^^^ definition local 25
      a = 1;
//    ^ reference local 23
      b = [2, 3];
//    ^ reference local 24
  end
  
  classdef MyClass
//         ^^^^^^^ definition local 4
      properties
          Prop1
      end
      
      methods
          function obj = MyClass(prop1)
//                 ^^^ definition local 28
//                       ^^^^^^^ definition local 29
//                               ^^^^^ definition local 30
              obj.Prop1 = prop1;
//            ^^^ reference local 28
//                        ^^^^^ reference local 30
          end
          
          function result = method1(obj)
//                 ^^^^^^ definition local 31
//                          ^^^^^^^ definition local 32
//                                  ^^^ definition local 33
              result = obj.Prop1;
//            ^^^^^^ reference local 31
//                     ^^^ reference local 33
          end
      end
  end
  
  myObject = MyClass(5);
//^^^^^^^^ definition local 5
//           ^^^^^^^ reference local 4
  result = myObject.method1();
//^^^^^^ definition local 6
//         ^^^^^^^^ reference local 5
  
  addTwoNumbers = @(x, y) x + y;
//^^^^^^^^^^^^^ definition local 7
//                  ^ definition local 35
//                     ^ definition local 36
//                        ^ reference local 35
//                            ^ reference local 36
  
  % TODO handle clear
  slay = 12 % definition is here
//^^^^ definition local 8
  clear slay
  slay = 10 % and now it's here!
//^^^^ reference local 8


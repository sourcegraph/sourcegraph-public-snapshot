# Search query syntax

Search queries can consist of just words, and you'll see results where those words appear in order, in all files across all repositories. Many queries will also use keywords. Keywords help to filter searches, define the type of search, and more. This page is a comprehensive list of keywords available for code search.

## Keywords (all searches)

The following keywords can be used on all searches:

| Keyword                                                                   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Examples                                                                                                                                                                                                           |
| ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **regexp-pattern**                                                        | Plain words are actually interpreted as regular expressions (using the standard [RE2 syntax](https://golang.org/s/re2syntax)). Multiple words are joined with `\s*` to construct the combined pattern.                                                                                                                                                                                                                                                                | [`(open\|close)file`](https://sourcegraph.com/search?q=repo:sourcegraph/go-langserver+lsptestcases%7Chover%7Cjsonrpc2)                                                                                             |
| **"any string"**                                                          | Surround a string in double quotes to find exact matches (including whitespace and punctuation). Use the `\"` and `\\` escapes if needed.                                                                                                                                                                                                                                                                                                                             | [`"system error 123"`](https://sourcegraph.com/search?q=repo:sourcegraph+%22system+error%22)                                                                                                                       |
| **repo:regexp-pattern** <br><br> **repo:regexp-pattern@rev**                  | Only include results from repositories whose path matches the regexp. A repository's path is a string such as _github.com/myteam/abc_ or _code.example.com/xyz_ that depends on your organization's repository host. If the regexp ends in **@rev**, that revision is searched instead of the default branch (usually `master`).                                                                                                                                      | [`repo:alice/abc`](https://sourcegraph.com/search?q=repo:gorilla/mux+%22testroute%22) <br> [`repo:alice/abc@mybranch`](https://sourcegraph.com/search?q=repo:sourcegraph/go-langserver%40latest+lsptestcases)      |
| **-repo:regexp-pattern**                                                  | Exclude results from repositories whose path matches the regexp.                                                                                                                                                                                                                                                                                                                                                                                                      | [`repo:alice/ -repo:alice/old-repo`](https://sourcegraph.com/search?q=repo:sourcegraph/+-repo:sourcegraph/go-langserver+jsonrpc2)                                                                                  |
| **repogroup:group-name**                                                  | Only include results from the named group of repositories (defined by the server admin). Same as using a repo: keyword that matches all of the group's repositories. Use repo: unless you know that the group exists.                                                                                                                                                                                                                                                 | [`repogroup:backend`](https://sourcegraph.com/search?q=repogroup:sample+httptest)                                                                                                                                  |
| **file:regexp-pattern**                                                   | Only include results in files whose full path matches the regexp.                                                                                                                                                                                                                                                                                                                                                                                                     | [`file:\.js$`](https://sourcegraph.com/search?q=repogroup:sample+file:%5C.go%24+httptest) <br> [`file:frontend/`](https://sourcegraph.com/search?q=repogroup:sample+file:internal/+httptest)                       |
| **-file:regexp-pattern**                                                  | Exclude results from files whose full path matches the regexp.                                                                                                                                                                                                                                                                                                                                                                                                        | [`file:\.js$ -file:test`](https://sourcegraph.com/search?q=repogroup:sample+file:%5C.go%24+-file:test+http) <br> [`-file:package.json`](https://sourcegraph.com/search?q=repogroup:sample+-file:package.json+http) |
| **lang:language-name**                                                    | Only include results from files in the specified programming language.                                                                                                                                                                                                                                                                                                                                                                                                | [`lang:typescript encoding`](https://sourcegraph.com/search?q=repogroup:sample+lang:typescript+encoding)                                                                                                           |
| **-lang:language-name**                                                   | Exclude results from files in the specified programming language.                                                                                                                                                                                                                                                                                                                                                                                                     | [`-lang:typescript encoding`](https://sourcegraph.com/search?q=repogroup:sample+-lang:typescript+encoding)                                                                                                         |
| **count:<em>N</em>**<br/><small>max:<em>N</em> (deprecated alias)</small> | Retrieve at least <em>N</em> results. By default, Sourcegraph stops searching early and returns if it finds a full page of results. This is desirable for most interactive searches. To wait for all results, or to see results beyond the first page, use the **count:** keyword with a larger <em>N</em>. This can also be used to get deterministic results and result ordering (whose order isn't dependent on the variable time it takes to perform the search). | [`count:1000 function`](https://sourcegraph.com/search?q=count:1000+repo:sourcegraph/browser-extension+function)                                                                                                   |
| **timeout:<em>go-duration-value</em>**<br/> | Customizes the timeout for searches. The value of the parameter is a string that can be parsed by the [Go time package's `ParseDuration`](https://golang.org/pkg/time/#ParseDuration) (e.g. 10s, 100ms). By default, the timeout is set to 10 seconds, and the search will optimize for returning results as soon as possible. The timeout value cannot be set longer than 1 minute. When provided, the search is given the full timeout to complete. | [`repo:^github.com/sourcegraph timeout:15s func count:10000`](https://sourcegraph.com/search?q=repo:%5Egithub.com/sourcegraph+timeout:15s+func+count:10000)                                                                                                   |
| **type:symbol**                                                           | Perform a symbol search.                                                                                                                                                                                                                                                                                                                                                                                                                                              | [`type:symbol path`](https://sourcegraph.com/search?q=repogroup:sample+type:symbol+path)                                                                                                                           |
| **case:yes**                                                              | Perform a case sensitive query. Without this, everything is matched case "smartly" (case-sensitive if your query has an uppercase letter, case-insensitive otherwise).                                                                                                                                                                                                                                                                                                                                                                               | [`OPEN_FILE case:yes`](https://sourcegraph.com/search?q=repogroup:sample+HTTP+case:yes)                                                                                                                            |
| **fork:no, fork:only**                                                    | Filter out results from repository forks or filter results to only repository forks.                                                                                                                                                                                                                                                                                                                                                                                  | [`fork:no repo:^github\.com/[^/]*/go-langserver$ gendecl`](https://sourcegraph.com/search?q=fork:no+repo:%5Egithub%5C.com/%5B%5E/%5D*/go-langserver%24+gendecl)                                                    |
| **archived:no, archived:only**                                                    | Filter out results from archived repositories or filter results to only archived repositories. By default, results from archived repositories are included.                                                                                                                                                                                                                                                                                                                                                                                  | [`repo:sourcegraph/ archived:only`](https://sourcegraph.com/search?q=repo:%5Egithub.com/sourcegraph/+archived:only)                                                    |

Multiple or combined **repo:** and **file:** keywords are intersected. For example, `repo:foo repo:bar` limits your search to repositories whose path contains **both** _foo_ and _bar_ (such as _github.com/alice/foobar_). To include results from repositories whose path contains **either** _foo_ or _bar_, use `repo:foo|bar`.

---

## Keywords (diff and commit searches only)

The following keywords are only used for **commit diff** and **commit message** searches, which show changes over time:

| Keyword                                   | Description                                                                                                                                                                                                                                                                                                                                                                                             | Examples                                                                                                                                                                                                                                                                                               |
| ----------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **repo:regexp-pattern@refs**                  | Specifies which Git refs (`:`-separated) to search for commits. Use `*refs/heads/` to include all Git branches (and `*refs/tags/` to include all Git tags). You can also prefix a Git ref name or pattern with `^` to exclude. For example, `*refs/heads/:^refs/heads/master` will match all commits that are not merged into master. | [<code>repo:vscode@*refs/heads/:^refs/heads/master<br/>type:diff task</code>](https://sourcegraph.com/search?q=repo:%5Egithub%5C.com/Microsoft/vscode%24%40*refs/heads/:%5Erefs/heads/master+type:diff+after:%221+month+ago%22+task#1) (unmerged commit diffs containing `task`) |
| **type:diff** <br> **type:commit**        | Specifies the type of search. By default, searches are executed on all code at a given point in time (a branch or a commit). Specify the `type:` if you want to search over changes to code or commit messages instead (diffs or commits).                                                                                                                                                              | [`type:diff`](https://sourcegraph.com/search?q=repogroup:sample+type:diff+servehttp) <br> [`type:commit`](https://sourcegraph.com/search?q=repogroup:sample+type:commit+test)                                                                                                                          |
| **author:name**                           | Only include results from diffs or commits authored by the user. Regexps are supported. Note that they match the whole author string of the form `Full Name <user@example.com>`, so to include only authors from a specific domain, use `author:example.com>$`.<br><br> You can also search by `committer:git-email`. _Note: there is a committer only when they are a different user than the author._ | [`author:git-email@example.com`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder%40gmail.com) <br> [`author:git-email`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder)                                                                 |
| **before:"string specifying time frame"** | Only include results from diffs or commits which have a commit date before the specified time frame                                                                                                                                                                                                                                                                                                     | [`before:"last thursday"`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder%40gmail.com+before:%223+weeks+ago%22) <br> [`before:"june 25 2017"`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder%40gmail.com+before:%22january+1+2018%22) |
| **after:"string specifying time frame"**  | Only include results from diffs or commits which have a commit date after the specified time frame                                                                                                                                                                                                                                                                                                      | [`after:"3 weeks ago"`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder%40gmail.com+after:%223+weeks+ago%22) <br> [`after:"june 25 2017"`](https://sourcegraph.com/search?q=repo:sourcegraph+type:diff+author:nickdsnyder%40gmail.com+after:%22january+1+2018%22)       |
| **message:"any string"**                  | Only include results from diffs or commits which have commit messages containing the string                                                                                                                                                                                                                                                                                                             | [`type:commit message:"testing"`](https://sourcegraph.com/search?q=repogroup:sample+type:commit+message:%22testing%22) <br> [`type:diff message:"testing"`](https://sourcegraph.com/search?q=repogroup:sample+type:diff+message:%22testing%22)                                                         |

## Repository name search

A query with only `repo:` filters returns a list of repositories with matching names.

Example: [`repo:docker repo:registry`](https://sourcegraph.com/search?q=repo:docker+repo:registry)

## Filename search

A query with `type:path` restricts terms to matching filenames only (not file contents).

Example: [`type:path repo:/docker/ registry`](https://sourcegraph.com/search?q=type:path+repo:/docker/+registry)
